<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Samsara Saga - A Journey Within</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Jost:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div id="cursor-container">
        <svg class="chakra-cursor" xmlns="http://www.w.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#FFC58F" stroke-width="1">
            <circle cx="12" cy="12" r="10"/>
            <g transform="translate(12,12)">
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(0)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(30)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(60)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(90)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(120)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(150)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(180)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(210)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(240)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(270)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(300)"/>
                <path d="M0,-10 L 2,-8 L 0,-6 L -2,-8 Z" transform="rotate(330)"/>
            </g>
            <circle cx="12" cy="12" r="2" fill="#FFC58F"/>
        </svg>
    </div>
    
    <div class="page-transition">
        <div class="page-transition-content">
            <div class="page-transition-mandala">
                <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="45" stroke="#FFC58F" stroke-width="0.5" fill="none"/>
                    <circle cx="50" cy="50" r="30" stroke="#FFC58F" stroke-width="0.5" fill="none"/>
                    <circle cx="50" cy="50" r="15" stroke="#FFC58F" stroke-width="0.5" fill="none"/>
                    <circle cx="50" cy="50" r="5" fill="#FFC58F"/>
                </svg>
            </div>
        </div>
    </div>
    
    <nav class="nav-bar">
        <div class="nav-placeholder"></div>
        <div class="nav-title">Samsara Saga</div>
        <a href="#" class="nav-link" id="menu-button">
            <i class="fas fa-bars"></i>
            <span>Menu</span>
        </a>
    </nav>

    <main class="screen-container">
        <h1 class="game-title text-fade-in">Samsara Saga</h1>
        <p class="game-subtitle text-fade-in-delay-1">A Journey Through the Cycles of Existence</p>

        <div class="menu-actions">
            <a href="CB-fixed.html" class="mandala-link text-fade-in-delay-2" id="new-game-button">
                <div class="mandala-container">
                    <svg class="mandala-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="100" cy="100" r="98" stroke-width="0.25"/>
                        <g class="mandala-rotate-1">
                            <circle cx="100" cy="100" r="92" />
                            <g transform="translate(100,100)">
                                <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(0)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(22.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(45)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(67.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(90)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(112.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(135)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(157.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(180)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(202.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(225)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(247.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(270)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(292.5)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(315)"/> <path d="M0,-92 A 15 15 0 0 1 15, -90.5 L 0, -85 Z" transform="rotate(337.5)"/>
                            </g>
                        </g>
                        <g transform="translate(100,100) rotate(11.25)">
                            <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(0)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(45)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(90)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(135)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(180)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(225)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(270)"/> <path d="M0,-80 C 20, -65, 20, -45, 0, -40 C -20, -45, -20, -65, 0, -80 Z" transform="rotate(315)"/>
                        </g>
                        <circle cx="100" cy="100" r="70" stroke-width="0.25" stroke-dasharray="2 2"/>
                        <g class="mandala-rotate-2">
                            <circle cx="100" cy="100" r="60" />
                            <g transform="translate(100,100) rotate(22.5)">
                                <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(0)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(45)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(90)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(135)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(180)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(225)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(270)"/> <path d="M0,-60 L 10,-50 L 0, -40 L -10, -50 Z" transform="rotate(315)"/>
                            </g>
                        </g>
                        <g class="mandala-rotate-3">
                            <circle cx="100" cy="100" r="35" stroke-width="0.5"/>
                            <g transform="translate(100,100)">
                                <circle cx="35" cy="0" r="3" transform="rotate(0)"/> <circle cx="35" cy="0" r="3" transform="rotate(60)"/> <circle cx="35" cy="0" r="3" transform="rotate(120)"/> <circle cx="35" cy="0" r="3" transform="rotate(180)"/> <circle cx="35" cy="0" r="3" transform="rotate(240)"/> <circle cx="35" cy="0" r="3" transform="rotate(300)"/>
                            </g>
                        </g>
                        <circle cx="100" cy="100" r="25" stroke-width="0.5"/>
                        <g transform="translate(100,100)">
                            <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(0)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(45)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(90)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(135)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(180)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(225)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(270)"/> <path d="M0,-30 C10,-20 10,-10 0,-20 C-10,-10 -10,-20 0,-30 Z" transform="rotate(315)"/>
                        </g>
                        <circle cx="100" cy="100" r="5"/>
                    </svg>
                </div>
                <p class="cta-text">Begin Your Journey</p>
            </a>

            <button class="action-button text-fade-in-delay-3" id="continue-button" style="display: none;">Continue Journey</button>
        </div>

        <div class="footer-links text-fade-in-delay-3">
            <a href="#" class="nav-link footer-nav-link" id="about-link">
                <i class="fas fa-info-circle"></i>
                <span>About</span>
            </a>
            <a href="#" class="nav-link footer-nav-link" id="credits-link">
                <i class="fas fa-award"></i>
                <span>Credits</span>
            </a>
        </div>
    </main>

    <div class="modal" id="about-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>About Samsara Saga</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p>Samsara Saga is an interactive narrative experience exploring the concepts of karma, dharma, and the eternal cycle of rebirth. Your journey begins with the discovery of your inner archetype, rooted in the ancient wisdom of Vedic astrology.</p>
                <p>Through a series of introspective questions, you will uncover a profile that reflects your core energies and motivations. This profile becomes the foundation for a larger text-based adventure where your choices shape your spiritual path and ultimate destiny.</p>
                <h3>Key Features:</h3>
                <ul>
                    <li>Character profile creation based on Vedic principles (Nakshatras)</li>
                    <li>A meaningful exploration of your inner self</li>
                    <li>Puzzles and choices that challenge your understanding of spiritual concepts</li>
                    <li>A foundation for a branching narrative with multiple endings</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="modal" id="credits-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Credits</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="credits-section">
                    <h3>Development</h3>
                    <p><strong>Original Concept & Logic:</strong> Sumanth Udupi</p>
                    <p><strong>UI/UX Enhancement:</strong> Gemini by Google</p>
                </div>
                <div class="credits-section">
                    <h3>Inspiration</h3>
                    <p>Based on the timeless wisdom of Vedic astrology and Hindu philosophy.</p>
                </div>
                <div class="credits-section">
                    <h3>Special Thanks</h3>
                    <p>To all who seek knowledge and embark on this journey of self-discovery.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="GameStateManager.js"></script>
    <script src="navigation.js"></script>
    <script>
        document.addEventListener('mousemove', (e) => {
            if (window.matchMedia("(pointer: coarse)").matches) return;
            const x = e.clientX - window.innerWidth / 2;
            const y = e.clientY - window.innerHeight / 2;
            document.documentElement.style.setProperty('--mouse-x', `${x}px`);
            document.documentElement.style.setProperty('--mouse-y', `${y}px`);
        });

        document.addEventListener('DOMContentLoaded', () => {
            if (window.matchMedia('(pointer: fine)').matches) {
                document.body.classList.add('custom-cursor-active');
                const cursorContainer = document.getElementById('cursor-container');
                document.addEventListener('mousemove', (e) => {
                    cursorContainer.style.transform = `translate3d(${e.clientX}px, ${e.clientY}px, 0)`;
                });
                document.addEventListener('mouseover', (e) => {
                    if (e.target.matches('a, button, .close-modal') || e.target.closest('a, button')) {
                        cursorContainer.classList.add('active');
                    }
                });
                document.addEventListener('mouseout', (e) => {
                     if (e.target.matches('a, button, .close-modal') || e.target.closest('a, button')) {
                        cursorContainer.classList.remove('active');
                    }
                });
            }

            const aboutLink = document.getElementById('about-link');
            const creditsLink = document.getElementById('credits-link');
            const aboutModal = document.getElementById('about-modal');
            const creditsModal = document.getElementById('credits-modal');
            const closeButtons = document.querySelectorAll('.close-modal');
            const allModals = document.querySelectorAll('.modal');

            function openModal(modal) {
                modal.classList.add('active');
            }
            function closeModal(modal) {
                modal.classList.remove('active');
            }

            aboutLink.addEventListener('click', (e) => { e.preventDefault(); openModal(aboutModal); });
            creditsLink.addEventListener('click', (e) => { e.preventDefault(); openModal(creditsModal); });
            
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    closeModal(button.closest('.modal'));
                });
            });

            allModals.forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeModal(modal);
                    }
                });
            });

            document.getElementById('new-game-button').addEventListener('click', function(e) {
                e.preventDefault();
                if (window.navigationManager) {
                    window.navigationManager.navigateToCharacterCreation();
                } else {
                    window.location.href = 'CB-fixed.html';
                }
            });

            const continueButton = document.getElementById('continue-button');
            if (window.gameStateManager && window.gameStateManager.hasSavedGame && window.gameStateManager.hasSavedGame()) {
                continueButton.style.display = 'block';
            }

            continueButton.addEventListener('click', function() {
                if (window.gameStateManager && window.gameStateManager.hasSavedGame()) {
                    if (window.navigationManager) {
                        window.navigationManager.navigateToGameplay();
                    } else {
                        window.location.href = 'Gameplay-fixed.html';
                    }
                }
            });

            document.addEventListener('click', (e) => {
                const ripple = document.createElement('div');
                ripple.classList.add('bg-ripple');
                ripple.style.left = `${e.clientX}px`;
                ripple.style.top = `${e.clientY}px`;
                document.body.appendChild(ripple);
                setTimeout(() => ripple.remove(), 2000);
            });
        });
    </script>

    <style>
        /*------------------------------------*\
          #ROOT & SETUP
        \*------------------------------------*/
        :root {
            --color-bg: #0F0C08;
            --color-bg-darker: #050403;
            --color-surface: #1a140f;
            --color-border: #4a3422;
            --color-border-focus: #a97142;
            --color-primary-glow: #ffc58f;
            --color-primary-base: #e09658;
            --color-text: #dcd1c7;
            --color-text-muted: #918070;
            --font-body: 'Jost', sans-serif;
            --font-title: 'Cinzel', serif;
            --shadow-glow: 0 0 15px -3px var(--color-primary-base);
            --mouse-x: 0px;
            --mouse-y: 0px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background-color: var(--color-bg);
            background-image: radial-gradient(circle at top left, rgba(224, 150, 88, 0.08), transparent 40%),
                              radial-gradient(circle at bottom right, rgba(169, 113, 66, 0.1), transparent 50%);
            font-family: var(--font-body);
            color: var(--color-text);
            min-height: 100vh;
            line-height: 1.6;
            overflow: hidden; /* Prevents scrollbars on the main page */
        }
        
        /*------------------------------------*\
          #CUSTOM CURSOR & PAGE TRANSITION
        \*------------------------------------*/
        .custom-cursor-active, .custom-cursor-active a, .custom-cursor-active button { 
            cursor: none; 
        }
        #cursor-container {
            display: none;
            position: fixed;
            top: -16px; left: -16px;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s ease-out;
        }
        .custom-cursor-active #cursor-container { display: block; }
        #cursor-container .chakra-cursor { transition: all 0.3s ease; }
        #cursor-container.active .chakra-cursor {
            transform: scale(1.5);
            stroke: var(--color-primary-glow);
            filter: drop-shadow(0 0 5px var(--color-primary-glow));
        }

        .page-transition {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: var(--color-bg);
            z-index: 10000;
            display: flex; justify-content: center; align-items: center;
            pointer-events: none; opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }
        .page-transition.active { opacity: 1; pointer-events: all; }
        .page-transition-mandala {
            width: 150px; height: 150px;
            animation: spin 20s linear infinite, fadeIn 1s ease-out;
        }
        .page-transition.active .page-transition-mandala {
            animation: spin 20s linear infinite, scaleUp 1.5s ease-in-out forwards;
        }

        /* Click Ripple Effect */
        .bg-ripple {
            position: fixed;
            border-radius: 50%;
            background: radial-gradient(circle, var(--color-primary-base) 0%, transparent 70%);
            transform: translate(-50%, -50%) scale(0);
            animation: ripple-effect 2s ease-out;
            opacity: 0.2;
            pointer-events: none;
            z-index: 0;
        }

        /*------------------------------------*\
          #NAVIGATION
        \*------------------------------------*/
        .nav-bar {
            position: fixed; top: 0; left: 0; width: 100%;
            display: flex; justify-content: center; align-items: center;
            padding: 1rem 2rem;
            background-color: rgba(15, 12, 8, 0.7);
            backdrop-filter: blur(12px);
            z-index: 50;
            border-bottom: 1px solid var(--color-border);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        }
        .nav-placeholder { display: none; }
        .nav-link {
            display: flex; flex-direction: column; align-items: center;
            color: var(--color-text-muted);
            text-decoration: none;
            transition: color 0.3s ease, transform 0.3s ease;
            font-size: 0.8rem;
        }
        .nav-link:hover {
            color: var(--color-primary-glow);
            transform: translateY(-2px);
            text-decoration: none;
        }
        .nav-link i { font-size: 1.2rem; margin-bottom: 0.25rem; }
        .nav-title {
            font-family: var(--font-title); font-size: 2rem; font-weight: 700;
            color: var(--color-primary-glow);
            text-shadow: 0 0 10px var(--color-primary-base);
        }
        #menu-button { display: none; }
        
        /*------------------------------------*\
          #MAIN CONTENT & LAYOUT
        \*------------------------------------*/
        .screen-container {
            min-height: 100vh;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            padding: 2rem;
            position: relative;
            z-index: 2;
        }

        .game-title {
            font-family: var(--font-title);
            font-size: clamp(3rem, 10vw, 6rem);
            font-weight: 700;
            color: var(--color-primary-glow);
            text-shadow: 0 0 20px var(--color-primary-base);
            letter-spacing: 2px;
            transform: translate(calc(var(--mouse-x) / -60), calc(var(--mouse-y) / -60));
        }

        .game-subtitle {
            font-size: clamp(1rem, 2.5vw, 1.4rem);
            color: var(--color-text);
            margin-bottom: clamp(1rem, 5vh, 2rem);
            text-align: center;
            font-weight: 300;
            transform: translate(calc(var(--mouse-x) / -80), calc(var(--mouse-y) / -80));
        }
        
        .menu-actions {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .footer-links {
            margin-top: clamp(1rem, 5vh, 3rem);
            display: flex;
            gap: 2rem;
            justify-content: center;
        }

        .action-button {
            font-family: var(--font-title);
            font-size: 1rem;
            font-weight: 700;
            color: var(--color-primary-glow);
            background: transparent;
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 0.8rem 2rem;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }
        .action-button:hover {
            background: rgba(224, 150, 88, 0.1);
            border-color: var(--color-primary-base);
            transform: translateY(-3px);
            box-shadow: var(--shadow-glow);
        }

        /*------------------------------------*\
          # MANDALA
        \*------------------------------------*/
        .mandala-link {
            display: flex; flex-direction: column; align-items: center;
            text-decoration: none; color: inherit;
        }
        .mandala-link:hover {
            text-decoration: none;
        }
        .mandala-container {
            width: clamp(250px, 40vmin, 400px);
            height: clamp(250px, 40vmin, 400px);
            transition: transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            transform: translate(calc(var(--mouse-x) / -40), calc(var(--mouse-y) / -40));
        }
        .mandala-svg {
            width: 100%; height: 100%;
            transition: all 0.5s ease;
        }
        .mandala-svg circle, .mandala-svg path, .mandala-svg g {
            stroke: var(--color-border);
            fill: none;
            transition: all 0.5s ease;
        }
        .mandala-svg > circle:last-of-type {
            fill: var(--color-primary-base);
        }
        .mandala-link:hover .mandala-svg circle, 
        .mandala-link:hover .mandala-svg path {
            stroke: var(--color-primary-glow);
        }
        .mandala-link:hover .mandala-svg {
            filter: drop-shadow(0 0 15px var(--color-primary-base));
            transform: scale(1.05);
        }
        .mandala-rotate-1 { animation: spin 120s linear infinite; transform-origin: center; }
        .mandala-rotate-2 { animation: spin-reverse 90s linear infinite; transform-origin: center; }
        .mandala-rotate-3 { animation: spin 60s linear infinite; transform-origin: center; }
        
        .cta-text {
            font-family: var(--font-title);
            font-size: 1.2rem;
            letter-spacing: 1px;
            color: var(--color-text-muted);
            margin-top: 1.5rem;
            transition: all 0.4s ease;
            transform: translate(calc(var(--mouse-x) / -60), calc(var(--mouse-y) / -60));
        }
        .mandala-link:hover .cta-text {
            color: var(--color-primary-glow);
            text-shadow: var(--shadow-glow);
            transform: translateY(5px) scale(1.05) translate(calc(var(--mouse-x) / -60), calc(var(--mouse-y) / -60));
        }

        /*------------------------------------*\
          # MODALS
        \*------------------------------------*/
        .modal {
            display: flex;
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(15, 12, 8, 0.7);
            backdrop-filter: blur(10px);
            z-index: 100;
            justify-content: center; align-items: center;
            opacity: 0; visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }
        .modal.active { opacity: 1; visibility: visible; }
        .modal-content {
            background: linear-gradient(145deg, var(--color-surface), var(--color-bg-darker));
            border: 1px solid var(--color-border);
            border-radius: 12px;
            width: 90%; max-width: 600px;
            max-height: 90vh; overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            transition: transform 0.4s ease;
            transform: scale(0.95);
        }
        .modal.active .modal-content { transform: scale(1); }
        .modal-header {
            padding: 1.5rem; display: flex;
            justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--color-border);
            position: sticky; top: 0;
            background: rgba(15, 12, 8, 0.7);
            backdrop-filter: blur(10px);
            z-index: 10;
        }
        .modal-header h2 {
            color: var(--color-primary-glow);
            font-family: var(--font-title);
            font-size: 1.8rem; font-weight: 700; margin: 0;
        }
        .close-modal {
            color: var(--color-text-muted);
            font-size: 2rem; font-weight: 300;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .close-modal:hover { color: var(--color-primary-glow); transform: rotate(90deg); }
        .modal-body { padding: 1.5rem 2rem; }
        .modal-body p { margin-bottom: 1rem; }
        .modal-body h3 {
            font-family: var(--font-title);
            color: var(--color-primary-base);
            margin: 2rem 0 1rem; font-size: 1.2rem;
            border-bottom: 1px solid var(--color-border); padding-bottom: 0.5rem;
        }
        .modal-body ul { list-style: none; margin-left: 0; padding-left: 0; }
        .modal-body li { margin-bottom: 0.5rem; padding-left: 1.5rem; position: relative; }
        .modal-body li::before {
            content: '\\2726'; /* Sparkle icon */
            font-family: "Font Awesome 5 Free";
            color: var(--color-primary-base);
            position: absolute; left: 0; top: 2px;
        }
        .credits-section { margin-bottom: 1.5rem; }
        .credits-section p { margin: 0.25rem 0; color: var(--color-text); }
        .credits-section strong { color: var(--color-primary-glow); font-weight: 400; }

        /*------------------------------------*\
          #ANIMATIONS & HELPERS
        \*------------------------------------*/
        .text-fade-in { animation: fadeIn 1s 0.5s ease-out forwards; opacity: 0; }
        .text-fade-in-delay-1 { animation: fadeIn 1s 0.8s ease-out forwards; opacity: 0; }
        .text-fade-in-delay-2 { animation: fadeIn 1s 1.1s ease-out forwards; opacity: 0; }
        .text-fade-in-delay-3 { animation: fadeIn 1s 1.4s ease-out forwards; opacity: 0; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes spin-reverse { from { transform: rotate(360deg); } to { transform: rotate(0deg); } }
        @keyframes scaleUp {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(10); opacity: 0; }
        }
        @keyframes ripple-effect {
            to { transform: translate(-50%, -50%) scale(20); opacity: 0; }
        }

        /*------------------------------------*\
          #RESPONSIVE DESIGN
        \*------------------------------------*/
        @media (max-width: 768px) {
            .nav-bar { padding: 1rem; justify-content: center; }
            .nav-title { font-size: 1.5rem; }
            .footer-links .nav-link span { display: none; }
            .mandala-container, .cta-text, .game-title, .game-subtitle { transform: none !important; }
        }
    </style>
</body>
</html>
